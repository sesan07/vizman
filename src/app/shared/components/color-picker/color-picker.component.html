<button class='color-btn' nz-button
        nz-popover
        nzPopoverTrigger="click"
        [nzPopoverContent]="endColorPickerTemplate"
        [(nzPopoverVisible)]="isOpen"
        (nzPopoverVisibleChange)="this.tempColor = this.color"
>
    <span class="color-preview" [ngStyle]="{ 'background-color': 'rgb(' + color.r + ',' + color.g + ',' +  + color.b + ')' }"></span>
</button>
<ng-template #endColorPickerTemplate>
    <color-sketch width="280px" disableAlpha="true" [color]="tempColor" (onChangeComplete)="onColorChange($event)"></color-sketch>
    <span class="picker-confirm-buttons">
        <button nz-button (click)="onClose(false)">Cancel</button>
        <button nz-button nzType="primary" (click)="onClose(true)">Ok</button>
    </span>
</ng-template>